<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŸºç¤è·¯ç”±æ¸¬è©¦</title>
    <style>
        body { background: #1a1a1a; color: white; font-family: system-ui; margin: 20px; }
        .container { max-width: 600px; margin: 0 auto; }
        .test-btn { 
            display: inline-block; 
            padding: 10px 20px; 
            margin: 10px 5px; 
            background: #00d4aa; 
            color: white; 
            text-decoration: none; 
            border-radius: 6px; 
            cursor: pointer;
            border: none;
        }
        .status { margin: 20px 0; padding: 15px; background: #2a2a2a; border-radius: 6px; }
        .debug { font-family: monospace; font-size: 14px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ§­ åŸºç¤è·¯ç”±æ¸¬è©¦</h1>
        
        <div class="test-controls">
            <button class="test-btn" onclick="testRoute('BTCUSDT')">æ¸¬è©¦ BTC</button>
            <button class="test-btn" onclick="testRoute('ETHUSDT')">æ¸¬è©¦ ETH</button>
            <button class="test-btn" onclick="testGoHome()">å›é¦–é </button>
        </div>
        
        <div class="status">
            <h3>æ¸¬è©¦çµæœï¼š</h3>
            <div id="results" class="debug">ç­‰å¾…æ¸¬è©¦...</div>
        </div>
        
        <div class="status">
            <h3>ç•¶å‰ç‹€æ…‹ï¼š</h3>
            <div id="current-info" class="debug">
                ç•¶å‰ Hash: <span id="current-hash">-</span><br>
                æ™‚é–“: <span id="current-time">-</span>
            </div>
        </div>
    </div>

    <script>
        // æ›´æ–°ç‹€æ…‹é¡¯ç¤º
        function updateStatus() {
            document.getElementById('current-hash').textContent = window.location.hash || '(ç„¡)';
            document.getElementById('current-time').textContent = new Date().toLocaleTimeString('zh-TW');
        }
        
        // æ¸¬è©¦è·¯ç”±åŠŸèƒ½
        function testRoute(symbol) {
            const results = document.getElementById('results');
            results.innerHTML = `æ­£åœ¨æ¸¬è©¦è·¯ç”±: /currency/${symbol}<br>`;
            
            try {
                // è¨­å®š hash
                window.location.hash = `#/currency/${symbol}`;
                
                setTimeout(() => {
                    results.innerHTML += `âœ… Hash å·²è¨­å®š: ${window.location.hash}<br>`;
                    results.innerHTML += `ğŸ“ ç•¶å‰ URL: ${window.location.href}<br>`;
                    
                    // æª¢æŸ¥é é¢å…ƒç´ 
                    const currencyPage = document.getElementById('currency-detail-page');
                    if (currencyPage) {
                        results.innerHTML += `âœ… è²¨å¹£è©³æƒ…é é¢å®¹å™¨å­˜åœ¨<br>`;
                        const isActive = currencyPage.classList.contains('active');
                        results.innerHTML += `${isActive ? 'âœ…' : 'âŒ'} é é¢${isActive ? 'å·²' : 'æœª'}æ¿€æ´»<br>`;
                    } else {
                        results.innerHTML += `âŒ è²¨å¹£è©³æƒ…é é¢å®¹å™¨ä¸å­˜åœ¨<br>`;
                    }
                    
                    results.innerHTML += `<br><strong>æ¸¬è©¦å®Œæˆæ™‚é–“:</strong> ${new Date().toLocaleTimeString('zh-TW')}`;
                }, 500);
                
            } catch (error) {
                results.innerHTML += `âŒ æ¸¬è©¦å¤±æ•—: ${error.message}<br>`;
            }
        }
        
        function testGoHome() {
            window.location.hash = '#/dashboard';
            setTimeout(() => {
                document.getElementById('results').innerHTML = 'âœ… è¿”å›é¦–é æ¸¬è©¦å®Œæˆ';
            }, 300);
        }
        
        // ç›£è½ hash è®ŠåŒ–
        window.addEventListener('hashchange', updateStatus);
        
        // åˆå§‹åŒ–
        updateStatus();
        setInterval(updateStatus, 1000);
        
        // æª¢æŸ¥å¿…è¦çš„çµ„ä»¶æ˜¯å¦è¼‰å…¥
        window.addEventListener('load', () => {
            setTimeout(() => {
                const results = document.getElementById('results');
                results.innerHTML = 'ğŸ” æª¢æŸ¥çµ„ä»¶è¼‰å…¥ç‹€æ…‹:<br>';
                
                if (typeof Router !== 'undefined') {
                    results.innerHTML += 'âœ… Router é¡åˆ¥å·²è¼‰å…¥<br>';
                } else {
                    results.innerHTML += 'âŒ Router é¡åˆ¥æœªè¼‰å…¥<br>';
                }
                
                if (typeof RouteBuilder !== 'undefined') {
                    results.innerHTML += 'âœ… RouteBuilder é¡åˆ¥å·²è¼‰å…¥<br>';
                } else {
                    results.innerHTML += 'âŒ RouteBuilder é¡åˆ¥æœªè¼‰å…¥<br>';
                }
                
                if (typeof CurrencyDetailPage !== 'undefined') {
                    results.innerHTML += 'âœ… CurrencyDetailPage é¡åˆ¥å·²è¼‰å…¥<br>';
                } else {
                    results.innerHTML += 'âŒ CurrencyDetailPage é¡åˆ¥æœªè¼‰å…¥<br>';
                }
                
                results.innerHTML += '<br>âœ… çµ„ä»¶æª¢æŸ¥å®Œæˆï¼Œå¯ä»¥é–‹å§‹æ¸¬è©¦è·¯ç”±åŠŸèƒ½';
            }, 1000);
        });
    </script>
</body>
</html>