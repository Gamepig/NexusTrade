<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>È¶ñÈ†Å‰øÆÂæ©Ê∏¨Ë©¶ - NexusTrade</title>
    <link rel="stylesheet" href="/css/main.css">
    <style>
        .test-status {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 15px;
            border-radius: 8px;
            z-index: 10000;
            min-width: 300px;
        }
        .test-item {
            display: flex;
            justify-content: space-between;
            margin: 5px 0;
        }
        .test-item .status {
            font-weight: bold;
        }
        .success { color: #00d4aa; }
        .error { color: #ff4757; }
        .warning { color: #ffa502; }
    </style>
</head>
<body>
    <!-- Ê∏¨Ë©¶ÁãÄÊÖãÊåáÁ§∫Âô® -->
    <div class="test-status">
        <h3>üß™ È¶ñÈ†Å‰øÆÂæ©Ê∏¨Ë©¶ÁãÄÊÖã</h3>
        <div class="test-item">
            <span>Êñ∞ËÅûË∑ëÈ¶¨Ááà:</span>
            <span class="status" id="news-ticker-status">Ê™¢Êü•‰∏≠...</span>
        </div>
        <div class="test-item">
            <span>ÁÜ±ÈñÄË≤®Âπ£ÂàóË°®:</span>
            <span class="status" id="crypto-list-status">Ê™¢Êü•‰∏≠...</span>
        </div>
        <div class="test-item">
            <span>TradingViewÂúñË°®:</span>
            <span class="status" id="tradingview-status">Ê™¢Êü•‰∏≠...</span>
        </div>
        <div class="test-item">
            <span>Êñ∞ËÅûÁÑ¶Èªû:</span>
            <span class="status" id="news-highlight-status">Ê™¢Êü•‰∏≠...</span>
        </div>
        <div class="test-item">
            <span>Á∏ΩÈ´îÁãÄÊÖã:</span>
            <span class="status" id="overall-status">Ê™¢Êü•‰∏≠...</span>
        </div>
    </div>

    <!-- ‰∏ªË¶ÅÊáâÁî®Á®ãÂºèÂÆπÂô® -->
    <div class="app">
        <!-- È†ÇÈÉ®Â∞éËà™ -->
        <header class="header">
            <div class="container">
                <div class="header-content">
                    <div class="logo">
                        <span class="logo-icon">‚Çø</span>
                        <span class="logo-text">NexusTrade</span>
                    </div>
                    
                    <nav class="nav">
                        <ul class="nav-list">
                            <li><a href="#dashboard" class="nav-link active">È¶ñÈ†Å</a></li>
                            <li><a href="#market" class="nav-link">Â∏ÇÂ†¥</a></li>
                            <li><a href="#news" class="nav-link">Êñ∞ËÅû</a></li>
                            <li><a href="#watchlist" class="nav-link">ÈóúÊ≥®</a></li>
                            <li><a href="#notifications" class="nav-link">ÈÄöÁü•</a></li>
                            <li><a href="#ai-insights" class="nav-link">AI ÂàÜÊûê</a></li>
                        </ul>
                    </nav>
                    
                    <div class="header-actions">
                        <button class="btn btn-secondary" id="login-btn">ÁôªÂÖ•</button>
                        <button class="btn btn-primary" id="signup-btn">Ë®ªÂÜä</button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Êñ∞ËÅûË∑ëÈ¶¨Ááà -->
        <div class="news-ticker-section">
            <div class="container">
                <div id="news-ticker"></div>
            </div>
        </div>

        <!-- ‰∏ªË¶ÅÂÖßÂÆπÂçÄÂüü -->
        <main class="main">
            <div class="container">
                <!-- È¶ñÈ†Å -->
                <section id="dashboard-page" class="page active">
                    <div class="homepage-container">
                        <!-- Á¨¨‰∏ÄÊéí - ‰∏âÂÄã‰∏ªË¶ÅËôõÊì¨Ë≤®Âπ£ K Á∑öÂúñ -->
                        <section class="section-main-charts">
                            <div class="section-header">
                                <h2>‰∏ªË¶ÅÂä†ÂØÜË≤®Âπ£</h2>
                            </div>
                            <div class="main-charts-grid">
                                <div class="chart-card">
                                    <div class="chart-container">
                                        <!-- TradingView Widget BEGIN -->
                                        <div class="tradingview-widget-container">
                                            <div class="tradingview-widget-container__widget"></div>
                                            <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-mini-symbol-overview.js" async>
                                            {
                                              "symbol": "BINANCE:BTCUSDT",
                                              "width": "100%",
                                              "height": "300",
                                              "locale": "en",
                                              "dateRange": "12M",
                                              "colorTheme": "dark",
                                              "isTransparent": false,
                                              "autosize": false,
                                              "largeChartUrl": ""
                                            }
                                            </script>
                                        </div>
                                        <!-- TradingView Widget END -->
                                    </div>
                                </div>
                                
                                <div class="chart-card">
                                    <div class="chart-container">
                                        <!-- TradingView Widget BEGIN -->
                                        <div class="tradingview-widget-container">
                                            <div class="tradingview-widget-container__widget"></div>
                                            <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-mini-symbol-overview.js" async>
                                            {
                                              "symbol": "BINANCE:ETHUSDT",
                                              "width": "100%",
                                              "height": "300",
                                              "locale": "en",
                                              "dateRange": "12M",
                                              "colorTheme": "dark",
                                              "isTransparent": false,
                                              "autosize": false,
                                              "largeChartUrl": ""
                                            }
                                            </script>
                                        </div>
                                        <!-- TradingView Widget END -->
                                    </div>
                                </div>
                                
                                <div class="chart-card">
                                    <div class="chart-container">
                                        <!-- TradingView Widget BEGIN -->
                                        <div class="tradingview-widget-container">
                                            <div class="tradingview-widget-container__widget"></div>
                                            <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-mini-symbol-overview.js" async>
                                            {
                                              "symbol": "BINANCE:BNBUSDT",
                                              "width": "100%",
                                              "height": "300",
                                              "locale": "en",
                                              "dateRange": "12M",
                                              "colorTheme": "dark",
                                              "isTransparent": false,
                                              "autosize": false,
                                              "largeChartUrl": ""
                                            }
                                            </script>
                                        </div>
                                        <!-- TradingView Widget END -->
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- AI Â§ßÂã¢ÂàÜÊûêÁ©∫Èñì -->
                        <section class="section-ai-insights">
                            <div class="section-header">
                                <h2>AI Â∏ÇÂ†¥Ë∂®Âã¢ÂàÜÊûê</h2>
                                <span class="status-badge">Âç≥Â∞áÊé®Âá∫</span>
                            </div>
                            <div class="ai-insights-placeholder">
                                <div class="placeholder-content">
                                    <div class="placeholder-icon">ü§ñ</div>
                                    <h3>Êô∫ÊÖßÂ∏ÇÂ†¥ÂàÜÊûê</h3>
                                    <p>AI È©ÖÂãïÁöÑÂ∏ÇÂ†¥Ë∂®Âã¢ÂàÜÊûê„ÄÅÊäÄË°ìÊåáÊ®ôËß£ËÆÄÂíåÊäïË≥áÂª∫Ë≠∞Â∞áÂú®Ê≠§ËôïÈ°ØÁ§∫</p>
                                </div>
                            </div>
                        </section>

                        <!-- ‰∏ªË¶ÅÊñ∞ËÅû‰∫îÂâá -->
                        <section class="section-news-highlights">
                            <div class="section-header">
                                <h2>Â∏ÇÂ†¥ÁÑ¶Èªû</h2>
                                <a href="#/news" class="more-link">Êü•ÁúãÊõ¥Â§ö ‚Üí</a>
                            </div>
                            <div class="news-highlights-grid">
                                <div class="featured-news">
                                    <!-- Á¨¨‰∏ÄÂâáÈ†≠Ê¢ùÊñ∞ËÅû -->
                                    <div class="main-story" data-index="0">
                                        <div class="story-image">
                                            <img src="/images/news-placeholder.svg" alt="Loading..." />
                                        </div>
                                        <div class="story-content">
                                            <div class="story-meta">
                                                <span class="story-category">üìà Â∏ÇÂ†¥ÂãïÊÖã</span>
                                                <span class="story-time">ËºâÂÖ•‰∏≠...</span>
                                            </div>
                                            <h3 class="story-title">ËºâÂÖ•‰∏≠...</h3>
                                            <p class="story-summary">ËºâÂÖ•ÊúÄÊñ∞Â∏ÇÂ†¥Êñ∞ËÅû‰∏≠...</p>
                                        </div>
                                    </div>
                                    
                                    <!-- Á¨¨‰∫åÂâáÈ†≠Ê¢ùÊñ∞ËÅû -->
                                    <div class="main-story" data-index="1">
                                        <div class="story-image">
                                            <img src="/images/news-placeholder.svg" alt="Loading..." />
                                        </div>
                                        <div class="story-content">
                                            <div class="story-meta">
                                                <span class="story-category">üí∞ ‰∫§ÊòìË≥áË®ä</span>
                                                <span class="story-time">ËºâÂÖ•‰∏≠...</span>
                                            </div>
                                            <h3 class="story-title">ËºâÂÖ•‰∏≠...</h3>
                                            <p class="story-summary">ËºâÂÖ•ÊúÄÊñ∞Â∏ÇÂ†¥Êñ∞ËÅû‰∏≠...</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="secondary-news">
                                    <!-- ÂÖ∂‰ªñ‰∏âÂâáÊñ∞ËÅû -->
                                    <div class="story-item" data-index="2">
                                        <div class="story-header">
                                            <span class="story-index">03</span>
                                            <span class="story-source">ËºâÂÖ•‰∏≠...</span>
                                        </div>
                                        <span class="story-title">ËºâÂÖ•‰∏≠...</span>
                                    </div>
                                    <div class="story-item" data-index="3">
                                        <div class="story-header">
                                            <span class="story-index">04</span>
                                            <span class="story-source">ËºâÂÖ•‰∏≠...</span>
                                        </div>
                                        <span class="story-title">ËºâÂÖ•‰∏≠...</span>
                                    </div>
                                    <div class="story-item" data-index="4">
                                        <div class="story-header">
                                            <span class="story-index">05</span>
                                            <span class="story-source">ËºâÂÖ•‰∏≠...</span>
                                        </div>
                                        <span class="story-title">ËºâÂÖ•‰∏≠...</span>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- ÁÜ±ÈñÄË≤®Âπ£ÂàóË°® -->
                        <section class="section-trending-coins">
                            <div class="section-header">
                                <h2>ÁÜ±ÈñÄË≤®Âπ£</h2>
                                <span class="subtitle">Á≤æÈÅ∏ 10 Á®Æ‰∏ªÊµÅÂä†ÂØÜË≤®Âπ£ÔºåÊØè 15 ÁßíÊõ¥Êñ∞</span>
                            </div>
                            <div class="trending-coins-container">
                                <div class="coins-table">
                                    <div class="table-header">
                                        <div class="col-coin">Ë≤®Âπ£</div>
                                        <div class="col-price">ÂÉπÊ†º</div>
                                        <div class="col-change">24h ËÆäÂåñ</div>
                                        <div class="col-change-amount">Êº≤Ë∑åÈªûÊï∏</div>
                                        <div class="col-volume">24h ‰∫§ÊòìÈáè</div>
                                        <div class="col-market-cap">Â∏ÇÂÄº</div>
                                    </div>
                                    <div class="table-body" id="trending-coins-list">
                                        <!-- ÂãïÊÖãËºâÂÖ•ÁÜ±ÈñÄË≤®Âπ£ -->
                                        <div class="loading-row">
                                            <div class="loading-spinner"></div>
                                            <span>ËºâÂÖ•ÁÜ±ÈñÄË≤®Âπ£‰∏≠...</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- JavaScript Ê®°ÁµÑ -->
    <script src="/js/crypto-icons.js"></script>
    <script src="/js/lib/api.js"></script>
    <script src="/js/lib/dom.js"></script>
    <script src="/js/lib/router.js"></script>
    <script src="/js/state/store.js"></script>
    <script src="/js/components/Notification.js"></script>
    <script src="/js/components/CryptoCurrencyList.js"></script>
    <script src="/js/components/HomeCryptoList.js"></script>
    <script src="/js/components/MarketPage.js"></script>
    <script src="/js/components/TradingViewWidgets.js"></script>
    <script src="/js/components/NewsTicker.js"></script>
    <script src="/js/components/NewsPage.js"></script>
    <script src="/js/nexus-app-fixed.js"></script>

    <script>
        // Ê∏¨Ë©¶ÁãÄÊÖãÁÆ°ÁêÜ
        const testStatus = {
            newsTicker: false,
            cryptoList: false,
            tradingView: false,
            newsHighlight: false
        };

        function updateStatus(component, status, message) {
            testStatus[component] = status;
            const element = document.getElementById(`${component.replace(/([A-Z])/g, '-$1').toLowerCase()}-status`);
            if (element) {
                element.textContent = message;
                element.className = 'status ' + (status ? 'success' : 'error');
            }
            updateOverallStatus();
        }

        function updateOverallStatus() {
            const total = Object.keys(testStatus).length;
            const passed = Object.values(testStatus).filter(Boolean).length;
            const element = document.getElementById('overall-status');
            
            if (passed === total) {
                element.textContent = '‚úÖ ÂÖ®ÈÉ®Ê≠£Â∏∏';
                element.className = 'status success';
            } else if (passed > 0) {
                element.textContent = `‚ö†Ô∏è ${passed}/${total} Ê≠£Â∏∏`;
                element.className = 'status warning';
            } else {
                element.textContent = '‚ùå ÂÖ®ÈÉ®Â§±Êïó';
                element.className = 'status error';
            }
        }

        // Áõ£ÊéßÁµÑ‰ª∂ËºâÂÖ•
        function checkComponents() {
            // Ê™¢Êü•Êñ∞ËÅûË∑ëÈ¶¨Ááà
            setTimeout(() => {
                const ticker = document.getElementById('news-ticker');
                if (ticker && ticker.innerHTML.trim() && !ticker.innerHTML.includes('ËºâÂÖ•‰∏≠')) {
                    updateStatus('newsTicker', true, '‚úÖ Â∑≤ËºâÂÖ•');
                } else {
                    updateStatus('newsTicker', false, '‚ùå ËºâÂÖ•Â§±Êïó');
                }
            }, 3000);

            // Ê™¢Êü•ÁÜ±ÈñÄË≤®Âπ£ÂàóË°®
            setTimeout(() => {
                const coinsList = document.getElementById('trending-coins-list');
                if (coinsList && coinsList.innerHTML.includes('coin-row') && !coinsList.innerHTML.includes('ËºâÂÖ•ÁÜ±ÈñÄË≤®Âπ£‰∏≠')) {
                    updateStatus('cryptoList', true, '‚úÖ Â∑≤ËºâÂÖ•');
                } else {
                    updateStatus('cryptoList', false, '‚ùå ËºâÂÖ•Â§±Êïó');
                }
            }, 5000);

            // Ê™¢Êü•TradingViewÂúñË°®
            setTimeout(() => {
                const widgets = document.querySelectorAll('.tradingview-widget-container iframe');
                if (widgets.length > 0) {
                    updateStatus('tradingView', true, `‚úÖ ${widgets.length} ÂÄãÂúñË°®`);
                } else {
                    updateStatus('tradingView', false, '‚ùå ÁÑ°ÂúñË°®');
                }
            }, 8000);

            // Ê™¢Êü•Êñ∞ËÅûÁÑ¶Èªû
            setTimeout(() => {
                const newsItems = document.querySelectorAll('.main-story .story-title');
                let loaded = 0;
                newsItems.forEach(item => {
                    if (item.textContent && item.textContent !== 'ËºâÂÖ•‰∏≠...') loaded++;
                });
                
                if (loaded > 0) {
                    updateStatus('newsHighlight', true, `‚úÖ ${loaded} ÂâáÊñ∞ËÅû`);
                } else {
                    updateStatus('newsHighlight', false, '‚ùå ÁÑ°Êñ∞ËÅû');
                }
            }, 4000);
        }

        // ÂàùÂßãÂåñÊáâÁî®
        window.addEventListener('load', () => {
            console.log('üß™ Ê∏¨Ë©¶È†ÅÈù¢ËºâÂÖ•ÂÆåÊàê');
            
            // ÂàùÂßãÂåñ NexusTrade ÊáâÁî®
            if (typeof NexusTradeApp !== 'undefined') {
                window.app = new NexusTradeApp();
                console.log('‚úÖ NexusTrade ÊáâÁî®Â∑≤ÂàùÂßãÂåñ');
                
                // ÈñãÂßãÊ™¢Êü•ÁµÑ‰ª∂
                setTimeout(checkComponents, 2000);
            } else {
                console.error('‚ùå NexusTradeApp Êú™ËºâÂÖ•');
                updateStatus('newsTicker', false, '‚ùå AppÊú™ËºâÂÖ•');
                updateStatus('cryptoList', false, '‚ùå AppÊú™ËºâÂÖ•');
                updateStatus('tradingView', false, '‚ùå AppÊú™ËºâÂÖ•');
                updateStatus('newsHighlight', false, '‚ùå AppÊú™ËºâÂÖ•');
            }
        });
    </script>
</body>
</html>