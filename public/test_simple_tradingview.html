<!DOCTYPE html>
<html>
<head>
    <title>簡單 TradingView 測試</title>
    <style>
        body { background: #000; color: white; padding: 20px; font-family: Arial; }
        .widget-container { border: 1px solid #333; margin: 20px 0; height: 220px; }
    </style>
</head>
<body>
    <h1>簡單 TradingView 測試</h1>
    
    <h2>方法 1: 標準格式</h2>
    <div class="widget-container">
        <!-- TradingView Widget BEGIN -->
        <div class="tradingview-widget-container">
            <div class="tradingview-widget-container__widget"></div>
            <div class="tradingview-widget-copyright">
                <a href="https://www.tradingview.com/" rel="noopener nofollow" target="_blank">
                    <span class="blue-text">Track all markets on TradingView</span>
                </a>
            </div>
        </div>
        <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-mini-symbol-overview.js" async>
        {
          "symbol": "BINANCE:BTCUSDT",
          "width": "100%",
          "height": "200",
          "locale": "en",
          "dateRange": "12M",
          "colorTheme": "dark",
          "isTransparent": false,
          "autosize": false,
          "largeChartUrl": ""
        }
        </script>
        <!-- TradingView Widget END -->
    </div>
    
    <h2>方法 2: 簡化格式</h2>
    <div class="widget-container">
        <div class="tradingview-widget-container">
            <div class="tradingview-widget-container__widget"></div>
        </div>
        <script type="text/javascript">
            // 動態載入 TradingView 小工具
            (function() {
                const script = document.createElement('script');
                script.src = 'https://s3.tradingview.com/external-embedding/embed-widget-mini-symbol-overview.js';
                script.async = true;
                script.innerHTML = JSON.stringify({
                    "symbol": "BINANCE:ETHUSDT",
                    "width": "100%", 
                    "height": "200",
                    "locale": "en",
                    "dateRange": "12M",
                    "colorTheme": "dark",
                    "isTransparent": false,
                    "autosize": false,
                    "largeChartUrl": ""
                });
                document.currentScript.parentNode.appendChild(script);
            })();
        </script>
    </div>
    
    <script>
        console.log('測試頁面載入完成');
        
        // 5秒後檢查載入狀態
        setTimeout(() => {
            const widgets = document.querySelectorAll('.tradingview-widget-container__widget');
            console.log('檢查小工具載入狀態:');
            widgets.forEach((widget, index) => {
                console.log(`小工具 ${index + 1}:`, widget.hasChildNodes() ? '已載入' : '未載入');
                if (widget.hasChildNodes()) {
                    console.log(`小工具 ${index + 1} 內容長度:`, widget.innerHTML.length);
                }
            });
        }, 5000);
    </script>
</body>
</html>