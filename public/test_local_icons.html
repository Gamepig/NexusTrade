<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœ¬åœ°åœ–æ¨™æ¸¬è©¦ - NexusTrade</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #0f0f0f;
            color: white;
            padding: 20px;
            margin: 0;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .section {
            background: #1a1a1a;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            border: 1px solid #333;
        }
        .section h3 {
            color: #f7931a;
            border-bottom: 1px solid #333;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .icon-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .icon-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px;
            background: #2a2a2a;
            border-radius: 8px;
            border: 1px solid #444;
            transition: transform 0.2s ease;
        }
        .icon-item:hover {
            transform: translateY(-2px);
            border-color: #f7931a;
        }
        .icon-name {
            margin-top: 8px;
            font-size: 12px;
            font-weight: bold;
            text-align: center;
        }
        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        .comparison-item {
            background: #2a2a2a;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }
        .comparison-title {
            color: #f7931a;
            margin-bottom: 15px;
            font-weight: bold;
        }
        .stats {
            background: #2a2a2a;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }
        .stats h4 {
            color: #00d4aa;
            margin: 0 0 10px 0;
        }
        .success { color: #00d4aa; }
        .error { color: #ff4757; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ–¼ï¸ æœ¬åœ°åŠ å¯†è²¨å¹£åœ–æ¨™æ¸¬è©¦</h1>
        
        <div class="stats">
            <h4>ğŸ“Š ä¸‹è¼‰çµ±è¨ˆ</h4>
            <p><span class="success">âœ… æˆåŠŸä¸‹è¼‰: <span id="success-count">43</span> å€‹åœ–æ¨™</span></p>
            <p><span class="success">ğŸ¯ è¦†è“‹ç‡: 97.7%</span></p>
            <p>ğŸ“ ä¾†æº: CoinCap API (assets.coincap.io)</p>
        </div>

        <div class="section">
            <h3>1. ä¸»è¦åŠ å¯†è²¨å¹£åœ–æ¨™</h3>
            <div class="icon-grid" id="major-crypto-icons">
                <!-- å‹•æ…‹è¼‰å…¥ -->
            </div>
        </div>

        <div class="section">
            <h3>2. ç©©å®šå¹£åœ–æ¨™</h3>
            <div class="icon-grid" id="stablecoin-icons">
                <!-- å‹•æ…‹è¼‰å…¥ -->
            </div>
        </div>

        <div class="section">
            <h3>3. DeFi ä»£å¹£åœ–æ¨™</h3>
            <div class="icon-grid" id="defi-icons">
                <!-- å‹•æ…‹è¼‰å…¥ -->
            </div>
        </div>

        <div class="section">
            <h3>4. æ¯”è¼ƒæ¸¬è©¦ï¼šæœ¬åœ°åœ–æ¨™ vs æ–‡å­—åœ–æ¨™</h3>
            <div class="comparison">
                <div class="comparison-item">
                    <div class="comparison-title">æœ¬åœ°åœ–æ¨™ (å„ªå…ˆ)</div>
                    <div id="local-icon-demo"></div>
                </div>
                <div class="comparison-item">
                    <div class="comparison-title">æ–‡å­—åœ–æ¨™ (å¾Œå‚™)</div>
                    <div id="text-icon-demo"></div>
                </div>
            </div>
        </div>

        <div class="section">
            <h3>5. åœ–æ¨™å“è³ªæ¸¬è©¦</h3>
            <p>æ¸¬è©¦ä¸åŒå°ºå¯¸çš„åœ–æ¨™é¡¯ç¤ºæ•ˆæœï¼š</p>
            <div style="display: flex; gap: 20px; align-items: center; margin: 20px 0;">
                <div id="btc-small"></div>
                <div id="btc-medium"></div>
                <div id="btc-large"></div>
                <div id="btc-xlarge"></div>
            </div>
            <p style="font-size: 12px; color: #aaa;">å¾å·¦åˆ°å³ï¼š24px, 32px, 48px, 64px</p>
        </div>
    </div>

    <script src="/js/crypto-icons-map.js"></script>
    <script>
        // åŠ å¯†è²¨å¹£åˆ†é¡
        const cryptoCategories = {
            major: ['btc', 'eth', 'bnb', 'sol', 'ada', 'xrp', 'doge', 'dot', 'avax', 'matic', 'link', 'ltc'],
            stablecoins: ['usdt', 'usdc', 'busd', 'fdusd', 'dai'],
            defi: ['uni', 'aave', 'comp', 'mkr', 'snx', 'crv', 'yfi']
        };

        function createIconItem(symbol, size = 32) {
            const iconHtml = window.getCryptoIcon(symbol + 'USDT', size);
            return `
                <div class="icon-item">
                    ${iconHtml}
                    <div class="icon-name">${symbol.toUpperCase()}</div>
                </div>
            `;
        }

        function loadIconCategory(categoryId, symbols) {
            const container = document.getElementById(categoryId);
            let html = '';
            
            symbols.forEach(symbol => {
                html += createIconItem(symbol, 40);
            });
            
            container.innerHTML = html;
        }

        function testComparison() {
            // æœ¬åœ°åœ–æ¨™ (Bitcoin)
            const localContainer = document.getElementById('local-icon-demo');
            localContainer.innerHTML = window.getCryptoIcon('BTCUSDT', 64);
            
            // æ¨¡æ“¬æ–‡å­—åœ–æ¨™ (å‡è¨­æ²’æœ‰æœ¬åœ°åœ–æ¨™)
            const textContainer = document.getElementById('text-icon-demo');
            const tempIconsLocal = window.CryptoIconsLocal;
            window.CryptoIconsLocal = {}; // æš«æ™‚æ¸…ç©ºæœ¬åœ°åœ–æ¨™
            textContainer.innerHTML = window.getCryptoIcon('BTCUSDT', 64);
            window.CryptoIconsLocal = tempIconsLocal; // æ¢å¾©
        }

        function testSizes() {
            const sizes = [24, 32, 48, 64];
            const containers = ['btc-small', 'btc-medium', 'btc-large', 'btc-xlarge'];
            
            sizes.forEach((size, index) => {
                const container = document.getElementById(containers[index]);
                container.innerHTML = window.getCryptoIcon('BTCUSDT', size);
            });
        }

        function updateStats() {
            if (window.CryptoIconsLocal) {
                const count = Object.keys(window.CryptoIconsLocal).length;
                document.getElementById('success-count').textContent = count;
            }
        }

        // åˆå§‹åŒ–é é¢
        window.addEventListener('load', () => {
            console.log('ğŸ–¼ï¸ è¼‰å…¥æœ¬åœ°åœ–æ¨™æ¸¬è©¦é é¢...');
            
            // æª¢æŸ¥åœ–æ¨™æ˜ å°„æ˜¯å¦è¼‰å…¥
            if (typeof window.getCryptoIcon !== 'function') {
                console.error('âŒ getCryptoIcon å‡½æ•¸æœªè¼‰å…¥');
                return;
            }
            
            if (!window.CryptoIconsLocal) {
                console.error('âŒ æœ¬åœ°åœ–æ¨™æ˜ å°„æœªè¼‰å…¥');
                return;
            }

            console.log(`âœ… è¼‰å…¥äº† ${Object.keys(window.CryptoIconsLocal).length} å€‹æœ¬åœ°åœ–æ¨™`);
            
            // è¼‰å…¥å„åˆ†é¡åœ–æ¨™
            loadIconCategory('major-crypto-icons', cryptoCategories.major);
            loadIconCategory('stablecoin-icons', cryptoCategories.stablecoins);
            loadIconCategory('defi-icons', cryptoCategories.defi);
            
            // æ¯”è¼ƒæ¸¬è©¦
            testComparison();
            
            // å°ºå¯¸æ¸¬è©¦
            testSizes();
            
            // æ›´æ–°çµ±è¨ˆ
            updateStats();
            
            console.log('ğŸ‰ æœ¬åœ°åœ–æ¨™æ¸¬è©¦é é¢è¼‰å…¥å®Œæˆï¼');
        });
    </script>
</body>
</html>